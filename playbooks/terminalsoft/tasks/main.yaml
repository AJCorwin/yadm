---
- name: Install default terminal software
  ansible.builtin.apt:
    pkg:
      - powerline
      - gconf-service
      - whois
      - emacs28
      - pip
      - fonts-hack-ttf
      - dos2unix
      - fonts-powerline
      - vim
      - zsh
      - tmux
      - wget
      - curl
      - cargo
      - bat
      - exa
  become: true

- name: Go to home directory
  ansible.builtin.shell: cd $HOME

- name: clone DOOM emacs
  ansible.builtin.git:
   repo: 'https://github.com/hlissner/doom-emacs'
   dest: ~/.emacs.d

- name: Install Doom Emacs
  ansible.builtin.shell: ~/.emacs.d/bin/doom install
  expect:
    command: vsx update-software
    responses:
      'First Question in the prompt' : 'y'
      'Second Question in the prompt' : 'y'

- name: Run Doom Sync
  ansible.builtin.shell: ~/.emacs.d/bin/doom sync

- name: Run Doom Doctor
  ansible.builtin.shell: ~/.emacs.d/bin/doom doctor
